OHLCV/TRADE QLIB INTEGRATION TEST REPORT
==================================================

Test Run Date: 2025-09-20 06:54:32
Total Duration: 5.09s
Success Rate: 33.3%


test_ohlcv_trade_schema.py:
  Status: FAILED
  Duration: 0.47s
  Error: INFO:__main__:Starting OHLCV/Trade Schema Test Suite
INFO:__main__:Testing OHLCV table operations...
INFO:__main__:PASS: OHLCV record created with ID: 154816
INFO:__main__:PASS: OHLCV data retrieved and validated
INFO:__main__:PASS: OHLCV data updated successfully
INFO:__main__:PASS: OHLCV data deleted successfully
INFO:__main__:Testing Trade table operations...
INFO:__main__:PASS: Trade record created with ID: trade_fcfdda0e
INFO:__main__:PASS: Trade data retrieved and validated
INFO:__main__:PASS: Trade data updated successfully
INFO:__main__:PASS: Trade data deleted successfully
INFO:__main__:Testing data integrity constraints...
INFO:__main__:PASS: Data integrity validation logic working
INFO:__main__:PASS: Valid OHLC relationships confirmed
INFO:__main__:Testing bulk insert performance...
INFO:__main__:PASS: Bulk insert performance:
INFO:__main__:   OHLCV: 100 records in 0.004s (26795.3 records/sec)
INFO:__main__:   Trade: 100 records in 0.007s (15234.6 records/sec)
INFO:__main__:PASS: Bulk insert data verification successful
INFO:__main__:PASS: Bulk insert test data cleaned up
INFO:__main__:Testing QLib export readiness...
INFO:__main__:PASS: QLib export query structure validated
ERROR:__main__:Test failed: 


test_qlib_ohlcv_trade_export.py:
  Status: FAILED
  Duration: 0.48s
  Error: INFO:__main__:TEST: Starting QLib OHLCV/Trade Export Test Suite
INFO:__main__:Testing QLib data query integration...
INFO:__main__:Setting up test data for QLib export...
INFO:__main__:PASS: Test data setup complete: 24 OHLCV records, 72 trade records
INFO:__main__:PASS: OHLCV query structure validated for QLib export
ERROR:__main__:FAIL: Test failed: 
Traceback (most recent call last):
  File "C:\Projects\geckoterminal_collector\test_qlib_ohlcv_trade_export.py", line 626, in run_tests
    await test_instance.test_qlib_data_query_integration(conn, test_pool_data)
  File "C:\Projects\geckoterminal_collector\test_qlib_ohlcv_trade_export.py", line 246, in test_qlib_data_query_integration
    assert first_agg['trade_count'] == 3  # 3 trades per hour
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
INFO:__main__:PASS: Test data cleanup completed


test_complete_ohlcv_trade_pipeline.py:
  Status: PASSED
  Duration: 4.13s
